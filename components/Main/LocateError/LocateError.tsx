import { GEOPOSITION_PERMISSION_DENIED_ERROR_CODE } from '@constants';
import styles from './LocateError.module.css';

const LocateOffIcon = () => (
  <svg
    className={styles['locate-error__icon']}
    aria-label=""
    viewBox="0 0 16 16"
    fill="none"
    xmlns="http://www.w3.org/2000/svg"
  >
    <path d="M12.6553 10.3273C12.5927 10.3273 12.5307 10.3153 12.472 10.2927C12.348 10.244 12.25 10.1493 12.1967 10.0273C12.1433 9.90467 12.1413 9.76867 12.19 9.64467C12.3913 9.132 12.4967 8.594 12.5027 8.046C12.5013 8.02933 12.5 8.01467 12.5 8C12.5 7.98333 12.5013 7.96667 12.5033 7.95067C12.4967 7.34733 12.3707 6.75867 12.128 6.20133C11.648 5.09933 10.7673 4.25 9.64868 3.81067C9.13268 3.608 8.59135 3.50267 8.03935 3.498C8.02602 3.49933 8.01335 3.5 8.00002 3.5C7.99202 3.5 7.97602 3.49867 7.96268 3.49733C7.41135 3.502 6.87068 3.60733 6.35535 3.81C6.29668 3.83333 6.23535 3.84467 6.17268 3.84467C5.96535 3.84467 5.78268 3.72 5.70735 3.52733C5.65868 3.40333 5.66068 3.26733 5.71402 3.14467C5.76735 3.022 5.86535 2.928 5.98935 2.87933C6.47602 2.688 6.98268 2.56733 7.49935 2.52V0.5C7.50002 0.224 7.72402 0 8.00002 0C8.27602 0 8.50002 0.224 8.50002 0.5V2.51933C9.01802 2.56667 9.52668 2.68733 10.014 2.87933C11.3813 3.41667 12.4573 4.45467 13.044 5.80133C13.2807 6.34467 13.4273 6.91467 13.4807 7.5H15.5C15.776 7.5 16 7.724 16 8C16 8.276 15.776 8.5 15.5 8.5H13.48C13.432 9.01667 13.312 9.524 13.1207 10.01C13.0453 10.2027 12.8627 10.3273 12.6553 10.3273Z" />
    <path d="M14.5 15C14.3667 15 14.2407 14.948 14.1467 14.8533L1.14667 1.85333C1.052 1.75933 1 1.63333 1 1.5C1 1.36667 1.052 1.24067 1.14667 1.14667C1.24067 1.052 1.36667 1 1.5 1C1.63333 1 1.75933 1.052 1.85333 1.14667L14.8533 14.1467C14.948 14.2413 15 14.3667 15 14.5C15 14.6333 14.948 14.7593 14.8533 14.8533C14.7587 14.9473 14.6333 15 14.5 15Z" />
    <path d="M8 16C7.724 16 7.5 15.776 7.5 15.5V13.4807C6.982 13.4333 6.47333 13.3127 5.986 13.1207C4.05133 12.3607 2.71333 10.5633 2.52333 8.5H0.5C0.224 8.5 0 8.276 0 8C0 7.724 0.224 7.5 0.5 7.5H2.522C2.56867 6.98134 2.68867 6.47467 2.87933 5.99C2.95533 5.79734 3.13733 5.67267 3.34467 5.67267C3.40733 5.67267 3.46933 5.68467 3.528 5.70734C3.652 5.756 3.75 5.85067 3.80333 5.97267C3.85667 6.09534 3.85933 6.23134 3.81 6.35534C3.60533 6.87534 3.50133 7.42267 3.49933 7.98134C3.5 7.988 3.5 7.99467 3.5 8C3.5 8.00534 3.5 8.01134 3.49933 8.01667C3.50733 9.874 4.626 11.5113 6.35133 12.1893C6.86667 12.392 7.408 12.4973 7.95933 12.502C7.97333 12.5007 7.986 12.4993 7.99933 12.4993C8.00733 12.4993 8.024 12.5007 8.03667 12.5013C8.588 12.4967 9.12867 12.3913 9.64333 12.1887C9.70267 12.1653 9.764 12.154 9.826 12.154C10.0333 12.154 10.216 12.2787 10.2913 12.4713C10.34 12.5953 10.338 12.7313 10.2847 12.8533C10.2313 12.9753 10.1333 13.07 10.0093 13.1187C9.52267 13.31 9.016 13.4307 8.49933 13.478V15.498C8.5 15.776 8.276 16 8 16Z" />
  </svg>
);

export default function LocateError({ locateError }: { locateError: number | undefined }) {
  let errorTitle = 'Location Unavailable';
  let errorMessage = 'Try again later or search for a city instead';
  if (locateError === GEOPOSITION_PERMISSION_DENIED_ERROR_CODE) {
    errorTitle = 'Location Permission Denied';
    errorMessage = 'Update your browser settings or search for a city instead';
  }

  return (
    <div className={styles['locate-error']}>
      <LocateOffIcon></LocateOffIcon>
      <h2 className={styles['locate-error__title']}>{errorTitle}</h2>
      <p className={styles['locate-error__message']}>{errorMessage}</p>
    </div>
  );
}
